<section class="agenda" id="agenda" aria-label="Seleção de datas" data-month="4" data-year="2026" data-mode="range">
  <div class="container">
    <div class="agenda__inner">
      <h2 class="section-title retro-title" data-config-text="agendaTitle" id="agendaTitle">SELECIONE O PERÍODO DA SUA RESERVA</h2>

      <div class="selectors">
        <!-- Wrapper para Adultos + Nota -->
        <div class="selector-group">
          <div class="qty">
            <span class="qty__label">Adultos</span>
            <button class="qty__btn qty--dec" data-target="adults" aria-label="Diminuir adultos">−</button>
            <span class="qty__value" id="qty-adults">2</span>
            <button class="qty__btn qty--inc" data-target="adults" aria-label="Aumentar adultos">+</button>
          </div>
          
         
          <p class="selectors__note">* A partir dos 11 anos</p>
        </div>

        <!-- Wrapper para Crianças (para manter simetria) -->
        <div class="selector-group">
          <div class="qty">
            <span class="qty__label">Crianças</span>
            <button class="qty__btn qty--dec" data-target="kids" aria-label="Diminuir crianças">−</button>
            <span class="qty__value" id="qty-kids">0</span>
            <button class="qty__btn qty--inc" data-target="kids" aria-label="Aumentar crianças">+</button>
          </div>
        </div>
      </div>

      <div class="calendar" role="application" aria-label="Calendário de eventos">
        <div class="calendar__header">
          <div class="calendar__title" id="calTitle" aria-live="polite">Abril 2026</div>
        </div>
        <div class="calendar__weekdays" aria-hidden="true">
          <span>DOM</span><span>SEG</span><span>TER</span><span>QUA</span><span>QUI</span><span>SEX</span><span>SÁB</span>
        </div>
        <div class="calendar__grid" role="grid" aria-labelledby="calTitle"></div>
      </div>

      <div class="reserve__actions">
        <button class="btn btn--pink reserve__btn" id="reserveBtn">Ver disponibilidade</button>
      </div>
    </div>
  </div>

  <div class="container results-container">
    <!-- Novo Loader de Resort -->
    <div id="availability-loader" class="resort-loader" style="display: none;">
      <div class="resort-loader__content">
        <div class="resort-loader__scene">
          <div class="sun"></div>
          <div class="palm-tree">
            <div class="trunk"></div>
            <div class="leaves">
              <div class="leaf leaf-1"></div>
              <div class="leaf leaf-2"></div>
              <div class="leaf leaf-3"></div>
              <div class="leaf leaf-4"></div>
            </div>
          </div>
          <div class="beach-ball"></div>
          <div class="sand"></div>
        </div>
        <h3 class="resort-loader__title">Preparando sua diversão...</h3>
        <p class="resort-loader__subtitle">Aguarde um instante, estamos escolhendo o melhor lugar para você!</p>
        
        <div class="resort-loader__skeleton-grid">
          <div class="skeleton-card">
            <div class="skeleton-media"></div>
            <div class="skeleton-body">
              <div class="skeleton-line title"></div>
              <div class="skeleton-line text"></div>
              <div class="skeleton-line text short"></div>
              <div class="skeleton-footer">
                <div class="skeleton-price"></div>
                <div class="skeleton-button"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="availability-results" class="availability-results" style="display: none;">
      <!-- Rooms will be rendered here -->
    </div>

    <div id="checkout-panel" class="checkout-panel" style="display: none;">
      <div class="checkout-panel__inner">
        <div class="checkout-panel__header">

            <h3>Finalize sua reserva</h3>
          
          <button type="button" class="checkout-panel__close" id="checkout-close" aria-label="Fechar checkout">×</button>
        </div>
        <div class="checkout-summary-card" id="checkout-summary-card"></div>

        <form id="checkout-form" class="checkout-form">
          <h4 class="checkout-section-title">Dados do Hóspede</h4>
          <div class="checkout-form__grid">
            <div class="checkout-field">
              <label for="checkout-first-name">Nome</label>
              <input type="text" id="checkout-first-name" required>
            </div>
            <div class="checkout-field">
              <label for="checkout-last-name">Sobrenome</label>
              <input type="text" id="checkout-last-name" required>
            </div>
            <div class="checkout-field">
              <label for="checkout-email">E-mail</label>
              <input type="email" id="checkout-email" required>
            </div>
            <div class="checkout-field">
              <label for="checkout-cpf">CPF</label>
              <input type="text" id="checkout-cpf" inputmode="numeric" maxlength="14" placeholder="000.000.000-00" required>
            </div>
            <div class="checkout-field">
              <label for="checkout-phone">Telefone</label>
              <input type="tel" id="checkout-phone" inputmode="tel" maxlength="15" placeholder="(00) 00000-0000" required>
            </div>
            <div class="checkout-field">
              <label for="checkout-zip">CEP</label>
              <input type="text" id="checkout-zip" inputmode="numeric" maxlength="9" placeholder="00000-000" required>
            </div>
          </div>

          <div class="checkout-payment">
            <h4 class="checkout-section-title">Forma de Pagamento</h4>
            <div class="checkout-payment__options">
              <label class="checkout-radio checkout-radio--card">
                <input type="radio" name="checkout-payment-method" value="card">
                <span class="checkout-radio__icon"><img src="https://cdn-icons-png.flaticon.com/512/71/71227.png" alt="Cartão icon" width="20" height="20"></span>
                <span class="checkout-radio__label">Cartão de Crédito</span>
              </label>
              <label class="checkout-radio checkout-radio--pix">
                <input type="radio" name="checkout-payment-method" value="pix" checked>
                <span class="checkout-radio__icon"><img src="https://artpoin.com/wp-content/uploads/2023/09/artpoin-logo-pix.png" alt="PIX logo" width="20" height="20"></span>
                <span class="checkout-radio__label">PIX</span>
              </label>
            </div>
          </div>
          <div class="checkout-card-fields" id="checkout-card-fields" style="display: none;">
            <div class="checkout-card-wrapper">
              <div class="checkout-card-preview" id="checkout-card-preview">
                <div class="creditcard creditcard--front" id="creditcard-front">
                  <div class="creditcard__brand" id="cc-brand">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 48 48" aria-hidden="true">
                      <circle cx="16" cy="24" r="14" fill="#d50000"></circle>
                      <circle cx="32" cy="24" r="14" fill="#ff9800"></circle>
                      <path d="M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48C20.376,15.05,18,19.245,18,24z" fill="#ff3d00"></path>
                    </svg>
                  </div>
                  <div class="creditcard__chip"></div>
                  <div class="creditcard__number" id="cc-number">0000 0000 0000 0000</div>
                  <div class="creditcard__row">
                    <div class="creditcard__label">NOME</div>
                    <div class="creditcard__label">VALIDADE</div>
                  </div>
                  <div class="creditcard__row">
                    <div class="creditcard__holder" id="cc-holder">FULL NAME</div>
                    <div class="creditcard__expiry" id="cc-expiry">MM/AA</div>
                  </div>
                </div>
                <div class="creditcard creditcard--back" id="creditcard-back">
                  <div class="creditcard__stripe"></div>
                  <div class="creditcard__cvvbox">
                    <div class="creditcard__cvvlabel">CVV</div>
                    <div class="creditcard__cvv" id="cc-cvv">000</div>
                  </div>
                </div>
              </div>
              <div class="checkout-form-wrapper">
                <div class="checkout-form__grid checkout-form__grid--card">
                  <div class="checkout-field">
                    <label for="checkout-card-number">Número do cartão</label>
                    <input type="text" id="checkout-card-number" placeholder="0000 0000 0000 0000">
                  </div>
                  <div class="checkout-field">
                    <label for="checkout-card-holder">Nome impresso no cartão</label>
                    <input type="text" id="checkout-card-holder" placeholder="Nome completo">
                  </div>
                  <div class="checkout-card-exp-row">
                    <div class="checkout-field">
                      <label for="checkout-card-expiration">Validade (MM/AAAA)</label>
                      <input type="text" id="checkout-card-expiration" placeholder="12/30">
                    </div>
                    <div class="checkout-field">
                      <label for="checkout-card-cvv">CVV</label>
                      <input type="text" id="checkout-card-cvv" placeholder="CVV">
                    </div>
                  </div>
              
                  <div class="checkout-field">
                    <label for="checkout-installments">Parcelas</label>
                    <select id="checkout-installments" class="checkout-select-textfield">
                      <option value="1">1x</option>
                      <option value="2">2x</option>
                      <option value="3">3x</option>
                      <option value="4">4x</option>
                      <option value="5">5x</option>
                      <option value="6">6x</option>
                      <option value="7">7x</option>
                      <option value="8">8x</option>
                      <option value="9">9x</option>
                      <option value="10">10x</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- PIX checkout (layout clean) -->
          <div class="checkout-pix-area pix-area" id="checkout-pix-area" style="display: none;">
            <div class="pix-left">
              <div class="pix-qr-wrap" aria-label="QR Code PIX">
                <img src="https://codigosdebarrasbrasil.com.br/wp-content/uploads/2019/09/codigo_qr-300x300.png" class="pix-qrcode pix-qr" alt="QR Code PIX">
                <button type="button" class="pix-qr-fallback-btn" id="pix-qr-fallback-btn" hidden>Mostrar QR Code</button>
              </div>

              <button type="button" id="copy-pix" class="pix-copy-btn" disabled>
                <span class="pix-copy-btn__icon" aria-hidden="true">⧉</span>
                <span class="pix-copy-btn__text">Copiar chave PIX</span>
              </button>


              <div class="pix-key-visible" id="pix-key-visible" hidden></div>
              <span id="pix-key-a11y" hidden></span>
            </div>

            <div class="pix-right">
              <div class="pix-total" id="pix-total">
                <div class="pix-total__label"></div>
                <div class="pix-total__value" id="pix-total-value">—</div>
              </div>

              <div class="pix-countdown-block">
                <div class="pix-countdown-label">Tempo restante para pagar</div>
                <div class="pix-countdown-glass" aria-label="Tempo restante para pagar">
                  <span class="pix-countdown-icon" aria-hidden="true">⏱</span>
                  <span class="pix-countdown" id="pix-countdown">10:00</span>
                </div>
              </div>

              <div class="pix-trust" aria-label="Confiança do pagamento">
                <span class="pix-trust__badge"><img src="https://logodownload.org/wp-content/uploads/2019/06/mercado-pago-logo-0-1.png" alt="Mercado Pago" width="70" height="70"></span>
                <span class="pix-trust__badge"><img src="https://logodownload.org/wp-content/uploads/2019/08/nubank-logo-0-1.png" alt="Nubank" width="40" height="40"></span>
                <span class="pix-trust__badge"><img src="https://navegantesprev.sc.gov.br/img/conteudo/images/BB.png" alt="Banco do Brasil" width="60" height="40"></span>
               <span class="pix-trust__badge"><img src="https://specto.com.br/wp-content/uploads/2024/06/logo-specto-case-santander-01.png" alt="Santander" width="40" height="40"></span>
               <span class="pix-trust__badge"><img src="https://logodownload.org/wp-content/uploads/2018/09/bradesco-logo-novo-2018.png" alt="Bradesco" width="40" height="40"></span>
              </div>

              <div class="pix-expired" id="pix-expired" hidden>Seu PIX expirou</div>
              <button type="button" class="pix-action-btn" id="pix-regenerate" hidden>Gerar novo QR Code</button>
            </div>
          </div>

          <button type="submit" class="btn btn--pink checkout-submit" id="checkout-submit-btn">Finalizar pagamento</button>

          <div id="checkout-message" class="checkout-message" aria-live="polite"></div>
        </form>
      </div>
    </div>
  </div>
</section>
